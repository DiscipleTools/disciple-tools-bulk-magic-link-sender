import{s as e}from"./lit-element-3e2a69ab.js";
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t=(e,...t)=>({strTag:!0,strings:e,values:t}),a=(e,t,a)=>{let s=e[0];for(let r=1;r<e.length;r++)s+=t[a?a[r-1]:r-1],s+=e[r];return s},s=e=>{return"string"!=typeof(t=e)&&"strTag"in t?a(e.strings,e.values):e;var t};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class r{constructor(e){this.__litLocalizeEventHandler=e=>{"ready"===e.detail.status&&this.host.requestUpdate()},this.host=e}hostConnected(){window.addEventListener("lit-localize-status",this.__litLocalizeEventHandler)}hostDisconnected(){window.removeEventListener("lit-localize-status",this.__litLocalizeEventHandler)}}const n=e=>e.addController(new r(e));
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class i{constructor(){this.settled=!1,this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}}
/**
 * @license
 * Copyright 2014 Travis Webb
 * SPDX-License-Identifier: MIT
 */const o=[];for(let e=0;e<256;e++)o[e]=(e>>4&15).toString(16)+(15&e).toString(16);function l(e,t){return(t?"h":"s")+function(e){let t=0,a=8997,s=0,r=33826,n=0,i=40164,l=0,c=52210;for(let o=0;o<e.length;o++)a^=e.charCodeAt(o),t=435*a,s=435*r,n=435*i,l=435*c,n+=a<<8,l+=r<<8,s+=t>>>16,a=65535&t,n+=s>>>16,r=65535&s,c=l+(n>>>16)&65535,i=65535&n;return o[c>>8]+o[255&c]+o[i>>8]+o[255&i]+o[r>>8]+o[255&r]+o[a>>8]+o[255&a]}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */("string"==typeof e?e:e.join(""))}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const c=new WeakMap,d=new Map;function u(e,t,r){var n;if(e){const s=null!==(n=null==r?void 0:r.id)&&void 0!==n?n:function(e){const t="string"==typeof e?e:e.strings;let a=d.get(t);void 0===a&&(a=l(t,"string"!=typeof e&&!("strTag"in e)),d.set(t,a));return a}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */(t),i=e[s];if(i){if("string"==typeof i)return i;if("strTag"in i)return a(i.strings,t.values,i.values);{let e=c.get(i);return void 0===e&&(e=i.values,c.set(i,e)),{...i,values:e.map((e=>t.values[e]))}}}}return s(t)}function m(e){window.dispatchEvent(new CustomEvent("lit-localize-status",{detail:e}))}let h,p,f,g,y,v="",w=new i;w.resolve();let E=0;const b=()=>v,T=e=>{if(e===(null!=h?h:v))return w.promise;if(!f||!g)throw new Error("Internal error");if(!f.has(e))throw new Error("Invalid locale code");E++;const t=E;h=e,w.settled&&(w=new i),m({status:"loading",loadingLocale:e});return(e===p?Promise.resolve({templates:void 0}):g(e)).then((a=>{E===t&&(v=e,h=void 0,y=a.templates,m({status:"ready",readyLocale:e}),w.resolve())}),(a=>{E===t&&(m({status:"error",errorLocale:e,errorMessage:a.toString()}),w.reject(a))})),w.promise};
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let k=s,_=!1;const M=["am_ET","ar","ar_MA","bg_BG","bn_BD","bs_BA","cs","de_DE","el","en_US","es_419","es_ES","fa_IR","fr_FR","hi_IN","hr","hu_HU","id_ID","it_IT","ja","ko_KR","mk_MK","mr","my_MM","ne_NP","nl_NL","pa_IN","pl","pt_BR","ro_RO","ru_RU","sl_SI","sr_BA","sw","th","tl","tr_TR","uk","vi","zh_CN","zh_TW"],{getLocale:O,setLocale:R}=(S={sourceLocale:"en",targetLocales:M,loadLocale:e=>import(`./generated/${e}.js`)},function(e){if(_)throw new Error("lit-localize can only be configured once");k=e,_=!0}(((e,t)=>u(y,e,t))),v=p=S.sourceLocale,f=new Set(S.targetLocales),f.add(S.sourceLocale),g=S.loadLocale,{getLocale:b,setLocale:T});var S;class P{constructor(e,t=""){this.nonce=e,this.apiRoot=t.endsWith("/")?`${t}`:`${t} + "/"`}async makeRequest(e,t,a,s="dt/v1/"){let r=s;r.endsWith("/")||t.startsWith("/")||(r+="/");const n=t.startsWith("http")?t:`${this.apiRoot}${r}${t}`,i={method:e,credentials:"same-origin",headers:{"Content-Type":"application/json","X-WP-Nonce":this.nonce}};"GET"!==e&&(i.body=JSON.stringify(a));const o=await fetch(n,i);return await o.json()}async makeRequestOnPosts(e,t,a={}){return this.makeRequest(e,t,a,"dt-posts/v2/")}async getPost(e,t){return this.makeRequestOnPosts("GET",`${e}/${t}`)}async createPost(e,t){return this.makeRequestOnPosts("POST",e,t)}async updatePost(e,t,a){return this.makeRequestOnPosts("POST",`${e}/${t}`,a)}async deletePost(e,t){return this.makeRequestOnPosts("DELETE",`${e}/${t}`)}async getPostDuplicates(e,t,a){return this.makeRequestOnPosts("GET",`${e}/${t}/all_duplicates`,a)}async transferContact(e,t){return this.makeRequestOnPosts("POST","contacts/transfer",{contact_id:e,site_post_id:t})}async transferContactSummaryUpdate(e,t){return this.makeRequestOnPosts("POST","contacts/transfer/summary/send-update",{contact_id:e,update:t})}async requestRecordAccess(e,t,a){return this.makeRequestOnPosts("POST",`${e}/${t}/request_record_access`,{user_id:a})}async createComment(e,t,a,s="comment"){return this.makeRequestOnPosts("POST",`${e}/${t}/comments`,{comment:a,comment_type:s})}async updateComment(e,t,a,s,r="comment"){return this.makeRequestOnPosts("POST",`${e}/${t}/comments/${a}`,{comment:s,comment_type:r})}async deleteComment(e,t,a){return this.makeRequestOnPosts("DELETE",`${e}/${t}/comments/${a}`)}async getComments(e,t){return this.makeRequestOnPosts("GET",`${e}/${t}/comments`)}async toggle_comment_reaction(e,t,a,s,r){return this.makeRequestOnPosts("POST",`${e}/${t}/comments/${a}/react`,{user_id:s,reaction:r})}async getPostActivity(e,t){return this.makeRequestOnPosts("GET",`${e}/${t}/activity`)}async getSingleActivity(e,t,a){return this.makeRequestOnPosts("GET",`${e}/${t}/activity/${a}`)}async revertActivity(e,t,a){return this.makeRequestOnPosts("GET",`${e}/${t}/revert/${a}`)}async getPostShares(e,t){return this.makeRequestOnPosts("GET",`${e}/${t}/shares`)}async addPostShare(e,t,a){return this.makeRequestOnPosts("POST",`${e}/${t}/shares`,{user_id:a})}async removePostShare(e,t,a){return this.makeRequestOnPosts("DELETE",`${e}/${t}/shares`,{user_id:a})}async getFilters(){return this.makeRequest("GET","users/get_filters")}async saveFilters(e,t){return this.makeRequest("POST","users/save_filters",{filter:t,postType:e})}async deleteFilter(e,t){return this.makeRequest("DELETE","users/save_filters",{id:t,postType:e})}async searchUsers(e){return this.makeRequest("GET",`users/get_users?s=${e}`)}async createUser(e){return this.makeRequest("POST","users/create",e)}async advanced_search(e,t,a,s){return this.makeRequest("GET","advanced_search",{query:e,postType:t,offset:a,post:s.post,comment:s.comment,meta:s.meta,status:s.status},"dt-posts/v2/posts/search/")}}!function(){const e=new WeakMap,t=new WeakMap,a=new WeakMap,s=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,m=new WeakMap,h=new WeakMap,p={attributes:!0,attributeFilter:["disabled"]},f=new MutationObserver((e=>{for(const t of e){const e=t.target;if(e.constructor.formAssociated){const t=e.hasAttribute("disabled");e.toggleAttribute("internals-disabled",t),t?e.setAttribute("aria-disabled","true"):e.removeAttribute("aria-disabled"),e.formDisabledCallback&&e.formDisabledCallback.apply(e,[t])}}})),g=e=>{a.get(e).forEach((e=>{e.remove()})),a.set(e,[])},y=(e,t)=>{const s=document.createElement("input");return s.type="hidden",s.name=e.getAttribute("name"),e.after(s),a.get(t).push(s),s},v=(e,t)=>{if(t.length){Array.from(t).forEach((t=>t.addEventListener("click",e.focus.bind(e))));let a=t[0].id;t[0].id||(a=`${t[0].htmlFor}_Label`,t[0].id=a),e.setAttribute("aria-labelledby",a)}},w=e=>{const t=Array.from(e.elements).filter((e=>e.validity)).map((e=>e.validity.valid)),a=o.get(e)||[],r=[...t,...Array.from(a).filter((e=>e.isConnected)).map((e=>s.get(e).validity.valid))].includes(!1);e.toggleAttribute("internals-invalid",r),e.toggleAttribute("internals-valid",!r)},E=e=>{w(M(e.target))},b=e=>{w(M(e.target))},T=e=>{const t=e.target,a=o.get(t);if(!t.noValidate&&a.size){if(Array.from(a).reverse().map((e=>s.get(e).reportValidity())).includes(!1))e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault();else if(h.get(t)){!1===h.get(t).call(t,e)&&e.preventDefault()}}},k=e=>{const t=o.get(e.target);t&&t.size&&t.forEach((e=>{e.constructor.formAssociated&&e.formResetCallback&&e.formResetCallback.apply(e)}))},_=(e,t,a)=>{if(t){t.onsubmit&&(h.set(t,t.onsubmit.bind(t)),t.onsubmit=null);const s=o.get(t);if(s)s.add(e);else{const a=new Set;a.add(e),o.set(t,a),t.addEventListener("submit",T),t.addEventListener("reset",k),t.addEventListener("input",E),t.addEventListener("change",b)}n.set(t,{ref:e,internals:a}),e.constructor.formAssociated&&e.formAssociatedCallback&&setTimeout((()=>{e.formAssociatedCallback.apply(e,[t])}),0),w(t)}},M=e=>{let t=e.parentNode;return t&&"FORM"!==t.tagName&&(t=M(t)),t},O=(e,t,a=DOMException)=>{if(!e.constructor.formAssociated)throw new a(t)},R=(e,t,a)=>{const r=o.get(e);return r&&r.size&&r.forEach((e=>{s.get(e)[a]()||(t=!1)})),t},S=e=>{if(e.constructor.formAssociated){const t=s.get(e),{labels:a,form:r}=t;v(e,a),_(e,r,t)}},P={ariaAtomic:"aria-atomic",ariaAutoComplete:"aria-autocomplete",ariaBusy:"aria-busy",ariaChecked:"aria-checked",ariaColCount:"aria-colcount",ariaColIndex:"aria-colindex",ariaColSpan:"aria-colspan",ariaCurrent:"aria-current",ariaDisabled:"aria-disabled",ariaExpanded:"aria-expanded",ariaHasPopup:"aria-haspopup",ariaHidden:"aria-hidden",ariaKeyShortcuts:"aria-keyshortcuts",ariaLabel:"aria-label",ariaLevel:"aria-level",ariaLive:"aria-live",ariaModal:"aria-modal",ariaMultiLine:"aria-multiline",ariaMultiSelectable:"aria-multiselectable",ariaOrientation:"aria-orientation",ariaPlaceholder:"aria-placeholder",ariaPosInSet:"aria-posinset",ariaPressed:"aria-pressed",ariaReadOnly:"aria-readonly",ariaRelevant:"aria-relevant",ariaRequired:"aria-required",ariaRoleDescription:"aria-roledescription",ariaRowCount:"aria-rowcount",ariaRowIndex:"aria-rowindex",ariaRowSpan:"aria-rowspan",ariaSelected:"aria-selected",ariaSetSize:"aria-setsize",ariaSort:"aria-sort",ariaValueMax:"aria-valuemax",ariaValueMin:"aria-valuemin",ariaValueNow:"aria-valuenow",ariaValueText:"aria-valuetext",role:"role"};class L{constructor(){this.badInput=!1,this.customError=!1,this.patternMismatch=!1,this.rangeOverflow=!1,this.rangeUnderflow=!1,this.stepMismatch=!1,this.tooLong=!1,this.tooShort=!1,this.typeMismatch=!1,this.valid=!0,this.valueMissing=!1,Object.seal(this)}}const $=e=>{let t=!0;for(let a in e)"valid"!==a&&!1!==e[a]&&(t=!1);return t};function A(e){const t=s.get(e),{form:a}=t;_(e,a,t),v(e,t.labels)}function I(e){e.forEach((e=>{const{addedNodes:t,removedNodes:r}=e,n=Array.from(t),l=Array.from(r);n.forEach((e=>{if(s.has(e)&&e.constructor.formAssociated&&A(e),c.has(e)){const t=c.get(e);Object.keys(P).filter((e=>null!==t[e])).forEach((a=>{e.setAttribute(P[a],t[a])})),c.delete(e)}if("form"===e.localName){const t=o.get(e),a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>!s.has(e)||t||t.has(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT});let r=a.nextNode();for(;r;)A(r),r=a.nextNode()}})),l.forEach((e=>{const t=s.get(e);if(t&&a.get(t)&&g(t),i.has(e)){i.get(e).disconnect()}}))}))}function F(e){e.forEach((e=>{const{removedNodes:t}=e;t.forEach((t=>{const a=m.get(e.target);s.has(t)&&S(t),a.disconnect()}))}))}new MutationObserver(I);const q={childList:!0,subtree:!0},C=new WeakMap;class x extends Set{static get isPolyfilled(){return!0}constructor(e){if(super(),!e||!e.tagName||-1===e.tagName.indexOf("-"))throw new TypeError("Illegal constructor");C.set(this,e)}add(e){if(!/^--/.test(e)||"string"!=typeof e)throw new DOMException(`Failed to execute 'add' on 'CustomStateSet': The specified value ${e} must start with '--'.`);const t=super.add(e),a=C.get(this);return a.toggleAttribute(`state${e}`,!0),a.part&&a.part.add(`state${e}`),t}clear(){for(let[e]of this.entries())this.delete(e);super.clear()}delete(e){const t=super.delete(e),a=C.get(this);return a.toggleAttribute(`state${e}`,!1),a.part&&a.part.remove(`state${e}`),t}}class V{constructor(r){if(!r||!r.tagName||-1===r.tagName.indexOf("-"))throw new TypeError("Illegal constructor");const n=r.getRootNode(),i=new L;this.states=new x(r),e.set(this,r),t.set(this,i),s.set(r,this),((e,t)=>{for(let a in P){t[a]=null;let s=null;const r=P[a];Object.defineProperty(t,a,{get:()=>s,set(a){s=a,e.isConnected?e.setAttribute(r,a):c.set(e,t)}})}})(r,this),((e,t)=>{a.set(t,[]);const s=e.hasAttribute("disabled");e.toggleAttribute("internals-disabled",s),f.observe(e,p)})(r,this),Object.seal(this),S(r),n instanceof DocumentFragment&&(e=>{const t=new MutationObserver(F);t.observe(e,{childList:!0}),m.set(e,t)})(n)}static get isPolyfilled(){return!0}checkValidity(){const a=e.get(this);if(O(a,"Failed to execute 'checkValidity' on 'ElementInternals': The target element is not a form-associated custom element."),!this.willValidate)return!0;const s=t.get(this);if(!s.valid){const e=new Event("invalid",{bubbles:!1,cancelable:!0,composed:!1});a.dispatchEvent(e)}return s.valid}get form(){const t=e.get(this);let a;return O(t,"Failed to read the 'form' property from 'ElementInternals': The target element is not a form-associated custom element."),!0===t.constructor.formAssociated&&(a=M(t)),a}get labels(){const t=e.get(this);O(t,"Failed to read the 'labels' property from 'ElementInternals': The target element is not a form-associated custom element.");const a=t.getAttribute("id"),s=t.getRootNode();return s&&a?s.querySelectorAll(`[for=${a}]`):[]}reportValidity(){const t=e.get(this);if(O(t,"Failed to execute 'reportValidity' on 'ElementInternals': The target element is not a form-associated custom element."),!this.willValidate)return!0;const a=this.checkValidity(),s=u.get(this);if(s&&!t.constructor.formAssociated)throw new DOMException("Failed to execute 'reportValidity' on 'ElementInternals': The target element is not a form-associated custom element.");return!a&&s&&(t.focus(),s.focus()),a}setFormValue(t){const a=e.get(this);if(O(a,"Failed to execute 'setFormValue' on 'ElementInternals': The target element is not a form-associated custom element."),g(this),null==t||t instanceof FormData)null!=t&&t instanceof FormData&&Array.from(t).reverse().forEach((([e,t])=>{if("string"==typeof t){const s=y(a,this);s.name=e,s.value=t}}));else if(a.getAttribute("name")){y(a,this).value=t}l.set(a,t)}setValidity(a,s,n){const i=e.get(this);if(O(i,"Failed to execute 'setValidity' on 'ElementInternals': The target element is not a form-associated custom element."),!a)throw new TypeError("Failed to execute 'setValidity' on 'ElementInternals': 1 argument required, but only 0 present.");u.set(this,n);const o=t.get(this),l={};for(const e in a)l[e]=a[e];var c;0===Object.keys(l).length&&((c=o).badInput=!1,c.customError=!1,c.patternMismatch=!1,c.rangeOverflow=!1,c.rangeUnderflow=!1,c.stepMismatch=!1,c.tooLong=!1,c.tooShort=!1,c.typeMismatch=!1,c.valid=!0,c.valueMissing=!1);const d={...o,...l};delete d.valid;const{valid:m}=((e,t,a)=>(e.valid=$(t),Object.keys(t).forEach((a=>e[a]=t[a])),a&&w(a),e))(o,d,this.form);if(!m&&!s)throw new DOMException("Failed to execute 'setValidity' on 'ElementInternals': The second argument should not be empty if one or more flags in the first argument are true.");r.set(this,m?"":s),i.toggleAttribute("internals-invalid",!m),i.toggleAttribute("internals-valid",m),i.setAttribute("aria-invalid",`${!m}`)}get shadowRoot(){const t=e.get(this),a=d.get(t);return a||null}get validationMessage(){const t=e.get(this);return O(t,"Failed to read the 'validationMessage' property from 'ElementInternals': The target element is not a form-associated custom element."),r.get(this)}get validity(){const a=e.get(this);O(a,"Failed to read the 'validity' property from 'ElementInternals': The target element is not a form-associated custom element.");return t.get(this)}get willValidate(){const t=e.get(this);return O(t,"Failed to read the 'willValidate' property from 'ElementInternals': The target element is not a form-associated custom element."),!(t.disabled||t.hasAttribute("disabled")||t.hasAttribute("readonly"))}}if(function(){if(!window.ElementInternals)return!1;class e extends HTMLElement{constructor(){super(),this.internals=this.attachInternals()}}const t=`element-internals-feature-detection-${Math.random().toString(36).replace(/[^a-z]+/g,"")}`;customElements.define(t,e);const a=new e;return["shadowRoot","form","willValidate","validity","validationMessage","labels","setFormValue","setValidity","checkValidity","reportValidity"].every((e=>e in a.internals))}()){if(!window.CustomStateSet){window.CustomStateSet=x;const e=HTMLElement.prototype.attachInternals;HTMLElement.prototype.attachInternals=function(...t){const a=e.call(this,t);return a.states=new x(this),a}}}else{window.ElementInternals=V,HTMLElement.prototype.attachInternals=function(){if(-1===this.tagName.indexOf("-"))throw new Error("Failed to execute 'attachInternals' on 'HTMLElement': Unable to attach ElementInternals to non-custom elements.");if(s.has(this))throw new DOMException("DOMException: Failed to execute 'attachInternals' on 'HTMLElement': ElementInternals for the specified element was already attached.");return new V(this)};const e=Element.prototype.attachShadow;Element.prototype.attachShadow=function(...t){const a=e.apply(this,t),s=new MutationObserver(I);return d.set(this,a),window.ShadyDOM?s.observe(this,q):s.observe(a,q),i.set(this,s),a};new MutationObserver(I).observe(document.documentElement,q);const t=HTMLFormElement.prototype.checkValidity;HTMLFormElement.prototype.checkValidity=function(...e){let a=t.apply(this,e);return R(this,a,"checkValidity")};const a=HTMLFormElement.prototype.reportValidity;HTMLFormElement.prototype.reportValidity=function(...e){let t=a.apply(this,e);return R(this,t,"reportValidity")},window.CustomStateSet||(window.CustomStateSet=x)}}();class L extends e{static get properties(){return{locale:{type:String},apiRoot:{type:String,reflect:!1},postType:{type:String,reflect:!1},postID:{type:String,reflect:!1}}}constructor(){super(),n(this),this.apiRoot=`${this.apiRoot}/`.replace("//","/"),this.api=new P(this.nonce,this.apiRoot)}willUpdate(e){if(void 0===this.RTL){const e=this.closest("[dir]");if(e){const t=e.getAttribute("dir");t&&(this.RTL="rtl"===t.toLowerCase())}}if(!this.locale){const e=this.closest("[lang]");if(e){const t=e.getAttribute("lang");t&&(this.locale=t)}}if(e&&e.has("locale")&&this.locale)try{R(this.locale)}catch(e){console.error(e)}}}export{P as A,L as D,k as m,t as s};
